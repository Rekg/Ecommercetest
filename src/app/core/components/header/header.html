<header class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center h-16">
      <a
  [routerLink]="['/products']"
  class="flex items-center transition"
  aria-label="G-Store Home"
>
  <img
    src="assets/images/g-store-logo.png"
    alt="G-Store"
    class="h-7 w-auto sm:h-10 lg:h-12 select-none transition-all duration-300"
  />
</a>


      <div class="ml-auto flex items-center gap-2 sm:gap-4">
        <a
          [routerLink]="['/products']"
          routerLinkActive="text-indigo-600 font-bold"
          [routerLinkActiveOptions]="{ exact: true }"
          class="hidden sm:block text-sm font-medium text-gray-600 hover:text-indigo-600 px-3 py-2"
        >
          Home
        </a>

        <a
          *ngIf="isAdmin()"
          [routerLink]="['/products/categories']"
          routerLinkActive="text-indigo-600 font-bold"
          class="hidden sm:block text-sm font-medium text-gray-600 hover:text-indigo-600 px-3 py-2 border-l border-gray-100 ml-2"
        >
          Categories
        </a>
        <a
          *ngIf="isAdmin()"
          [routerLink]="['/products/add']"
          routerLinkActive="text-indigo-600 font-bold"
          class="hidden sm:block text-sm font-medium text-gray-600 hover:text-indigo-600 px-3 py-2 border-l border-gray-100 ml-2"
        >
          Add Product
        </a>

        <a
          *ngIf="isLoggedIn()"
          [routerLink]="['/orders']"
          routerLinkActive="text-indigo-600 font-bold"
          [routerLinkActiveOptions]="{ exact: true }"
          class="hidden sm:block text-sm font-medium text-gray-600 hover:text-indigo-600 px-3 py-2"
        >
          My Orders
        </a>

        <a
          *ngIf="isAdmin()"
          [routerLink]="['/orders/management']"
          routerLinkActive="text-indigo-600 font-bold"
          class="hidden sm:block text-sm font-medium text-gray-600 hover:text-indigo-800 px-3 py-2 border-l border-gray-200"
        >
          Order Management
        </a>

        <div class="h-6 w-px bg-gray-200 mx-2"></div>

        <div class="flex items-center gap-1">
          <a
            [routerLink]="['/wishlist']"
            class="relative p-2 text-gray-600 hover:text-red-600 transition"
            routerLinkActive="text-red-600"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-.318-.318a4.5 4.5 0 00-6.364 0z"
              />
            </svg>
            <span
              *ngIf="(wishlistCount$ | async) ?? 0 > 0"
              class="absolute top-0 right-0 w-4 h-4 bg-red-600 text-[10px] text-white font-bold flex items-center justify-center rounded-full"
            >
              {{ wishlistCount$ | async }}
            </span>
          </a>

          <a
            [routerLink]="['/cart']"
            class="relative p-2 text-gray-600 hover:text-indigo-600 transition"
            routerLinkActive="text-indigo-600"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
              />
            </svg>
            <span
              *ngIf="(cartTotalQuantity$ | async) ?? 0 > 0"
              class="absolute top-0 right-0 w-4 h-4 bg-indigo-600 text-[10px] text-white font-bold flex items-center justify-center rounded-full"
            >
              {{ cartTotalQuantity$ | async }}
            </span>
          </a>
        </div>

        <ng-container *ngIf="!isLoggedIn(); else userMenu">
          <div class="flex items-center gap-2">
            <a
              [routerLink]="['/auth/login']"
              class="text-sm font-bold text-gray-700 hover:text-indigo-600 px-2"
              >Login</a
            >
            <a
              [routerLink]="['/auth/register']"
              class="px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition"
              >Register</a
            >
          </div>
        </ng-container>

        <ng-template #userMenu>
          <div class="flex items-center gap-3">
            <a
              [routerLink]="['/profile']"
              class="flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-gray-50 transition border border-transparent hover:border-gray-100"
            >
              <div
                class="w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs font-bold"
              >
                {{ authService.currentUser()?.firstName?.charAt(0) }}
              </div>
              
            </a>

            <button
              (click)="onLogout()"
              class="p-2 text-gray-400 hover:text-red-500 transition"
              title="Logout"
            >
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                />
              </svg>
            </button>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</header>
